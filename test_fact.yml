---
- hosts:
    - ll
  # remote_user: klx
  vars:
    - dir: "/k8s/vat.yml"
  tasks:
    # - name: 测试fact变量
    #   debug:
    #     msg: "{{ ansible_distribution }}"

    # - name:
    #   stat:
    #     path: "/etc/kubernetes/pki_json/ca-config.json"
    #   register: ssl
    # shell:
    #   cmd: "crictl --version"
    # register: get_node

    # - name:
    #   debug:
    #     msg: "{{ ssl.stat.isreg }}"
    #   when: ssl.stat.isreg is not defined

    # - name: cat hosts
    #   shell:
    #     cmd: "cat /etc/hosts | grep k8s-master01"
    #   ignore_errors: yes
    #   register: cat_hosts

    # - name:
    #   debug:
    #     msg: "{{ cat_hosts }}"

    # - name:
    #   debug:
    #     msg: "cat_hosts.stdout为空"
    #   when: cat_hosts.stdout == ""
    - name:
      debug:
        msg: "{{ dir }}is file"
      when: /k8s/vat.yml is exists
